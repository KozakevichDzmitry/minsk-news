(()=>{"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function c(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?t(Object(r),!0).forEach(function(e){var t,n;t=i,n=r[e=e],(e=function(e){e=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,o,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=a.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?i(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}jQuery(document).ready(function(n){n.datepicker.setDefaults(n.datepicker.regional.ru);var i=document.querySelector(".long-news-list .timeline-main .news-template-line:last-child"),t=(n(i).addClass("eof"),null),r=n(".datepicker-toggle .datepicker-reset-button"),a={action:"main_timline_tape_load",load:10,offset:10,taxonomy:"news-list",field:"slug",terms:"feed"},o=new IntersectionObserver(function(e){u(e,1)[0].isIntersecting&&l(t?{date:t}:{},function(e){n(".long-news-list .timeline-main .news-template-line:last-child").removeClass("eof"),e&&s(o,e)})},{root:null,rootMargin:"10px",threshold:.1}),l=(r.on("click",function(){t=null,a.offset=0,document.querySelector(".long-news-list .timeline-main").scrollTo({top:0,behavior:"smooth"}),l({date:null},function(e){r.hide(),n(".long-news-list .timeline-main").empty(),e&&s(o,e)})}),function(e,t){return n.ajax({url:"/wp-admin/admin-ajax.php",data:c(c({},a),e),type:"POST",success:function(e){return t(e)}})}),s=(n("#datepicker-all-news").datepicker({showOn:"both",changeMonth:!0,changeYear:!0,dateFormat:"yy-mm-dd",minDate:n("#datepicker-all-news").data("min-date"),maxDate:n("#datepicker-all-news").data("max-date"),onSelect:function(e){t=e,a.offset=0,document.querySelector(".long-news-list .timeline-main").scrollTo({top:0,behavior:"smooth"}),l({date:e},function(e){r.show(),n(".long-news-list .timeline-main").empty(),e&&s(o,e)})}}),function(e,t){t=n(t);n(t[t.length-1]).addClass("eof"),n(".long-news-list .timeline-main").append(t),e.unobserve(i),i=document.querySelector(".long-news-list .timeline-main .news-template-line.eof"),e.observe(i),a.offset+=a.load});o.observe(i)}),jQuery(document).ready(function(e){e(".swiper-container.two").length&&new Swiper(".swiper-container.two",{pagination:".swiper-pagination",paginationClickable:!0,clickable:!0,paginationBulletRender:function(e,t){return'<span class="swiper-pagination-bullet"></span>'},effect:"coverflow",autoHeight:!1,loop:!1,centeredSlides:!0,slidesPerView:"auto",spaceBetween:0,initialSlide:2,coverflow:{rotate:0,stretch:100,depth:0,modifier:1.5,slideShadows:!1},breakpoints:{576:{spaceBetween:700},768:{initialSlide:1,spaceBetween:0}}})}),jQuery(document).ready(function(i){function r(){null!==c&&(c.off("slideChangeEnd",d),c.destroy(),c=null,i(".districts-list-container").removeAttr("style"),i(".district-item").removeAttr("style"))}function a(e){var t;e&&(e=i(e.currentTarget).closest(".district-caption"))&&(t=Number(e[0].dataset.id),u=t,i(l).each(function(){i(this).data("id")===t?i(this).addClass("active"):i(this).removeClass("active")}),i(s).each(function(){i(this).data("id")===t?i(this).addClass("active"):i(this).removeClass("active")}))}function o(e){var t;e&&(e=i(e.currentTarget),t=i(e).data("id"),u=t,i(l).each(function(){i(this).removeClass("active")}),e.addClass("active"),n(t))}function e(){e=null,768<(n=i(window).width())&&n<=940?e="tablet":940<n?e="desktop":n<=768&&(e="mobile");var e,t,n=e;switch(t=!1,i(l).each(function(){i(this).hasClass("active")&&(t=!0)}),t||(i(l[0]).addClass("active"),i(s[0]).addClass("active")),n){case"desktop":r(),s.off("click",a),l.on("click",o);break;case"tablet":r(),l.off("click",o),s.on("click",a);break;case"mobile":l.off("click",o),s.off("click",a),null===c&&(c=new Swiper(".district-tablet-template",{wrapperClass:"districts-list-container",slideClass:"district-item",slideActiveClass:"active",slidesPerView:1,pagination:".district-tablet__pagination",paginationClickable:!0,clickable:!0,loop:!1,centeredSlides:!0,initialSlide:u,paginationBulletRender:function(e,t){return'<span class="swiper-pagination-bullet"></span>'}})).on("slideChangeEnd",d)}}var t=i(".district-tablet-template"),l=i(".district-tablet-template .districts-list-container .district-item"),s=i(".districts-list .district-caption"),c=null,u=0,n=function(e){i(s).each(function(){i(this).removeClass("active")}),i(".districts-list").find("[data-id='"+e+"']").addClass("active")},d=function(){var e;null!==c&&(e=c.activeIndex,n(e))};t.length&&l.length&&s.length&&(e(),i(window).on("resize",e))})})();