(()=>{"use strict";jQuery(document).ready(function(d){function p(a){var n=Math.floor(a/60),a=parseInt(a-60*n);return{minutes:n<10?"0"+n:n,seconds:a<10?"0"+a:a}}var a=d(".cae .cards-list"),y=[];function _(a){var n=a.min,e=a.max,t=a.value;a.style.backgroundSize=100*(t-n)/(e-n)+"% 100%"}d(".cae .cards-list .mn-player").each(function(a,n){d(n).find("input[type='range']").each(function(a,n){_(n)});var e=d(n).find("audio")[0],t=d(n).find("#time")[0];e.addEventListener("canplaythrough",function(){var a=p(e.duration);t.textContent="00:00 â€” ".concat(a.minutes||"00",":").concat(a.seconds||"00")},{once:!0})});var m="PLAY_TYPE_EVENT",v="VOLUME_TYPE_EVENT",f="TRACK_TYPE_EVENT";a.click(function(a){var l,n,e,t,r,i,o,c,s,a=d(a.target),u=(a.closest(".card-item__footer").length&&((u=a.closest(".card-item").find(".card-item__description")).hasClass("nowrap")?u.removeClass("nowrap"):u.addClass("nowrap")),a.closest(".mn-player"));u.length&&(n=u[0],(l=y.find(function(a){return n===a.el}))||(o=u.find(".player-controls__play-btn"),e=u.find(".player-controls__volume input[type='range']"),t=u.find(".mn-player__track-bar input[type='range']"),i=u.find("#time"),r=u.find("audio"),u={el:u[0],audio:r[0],time:t[0],timer:i[0],playBtn:o[0],trackBar:t[0],volume:e[0],audioTrackInterval:null,isPlay:!1},y.push(u),l=u),_(l.volume),_(l.trackBar),i=d((r=a).closest(".player-controls__play-btn")[0]).hasClass("player-controls__play-btn"),o=d(r.closest(".player-controls__volume")[0]).hasClass("player-controls__volume"),r=d(r.closest(".mn-player__track-bar")[0]).hasClass("mn-player__track-bar"),(t=i?m:o?v:r?f:"INIT_TYPE_EVENT")==m&&(s=l,y.forEach(function(a){a.el!=s.el&&(d(a.el).find(".cae_play_icon").css("display","inline-block"),d(a.el).find(".cae_pause_icon").css("display","none"),a.isPlay=!1,a.audio.pause(),clearInterval(a.audioTrackInterval))}),l.isPlay=!l.isPlay,l.isPlay&&(c=p(l.audio.duration),l.audio.play(),d(l.playBtn).find(".cae_play_icon").css("display","none"),d(l.playBtn).find(".cae_pause_icon").css("display","inline-block"),l.audioTrackInterval=setInterval(function(){return n=c,e=(a=l).audioTrackInterval,t=a.audio,r=a.trackBar,a=a.timer,i=p(t.currentTime),t.currentTime>=t.duration?(clearInterval(e),t.currentTime=0,t.pause()):(r.value=Math.floor(t.currentTime/t.duration*100),a.textContent="".concat(i.minutes,":").concat(i.seconds," - ").concat(n.minutes||"00",":").concat(n.seconds||"00")),_(r),void _(t);var a,n,e,t,r,i},1e3)),l.isPlay||(l.audio.pause(),d(l.playBtn).find(".cae_play_icon").css("display","inline-block"),d(l.playBtn).find(".cae_pause_icon").css("display","none"),clearInterval(l.audioTrackInterval))),t==v&&(l.audio.volume=l.volume.value/100,_(l.volume)),t==f)&&(l.audio.play(),l.audio.currentTime=l.trackBar.value*l.audio.duration/100,l.audio.pause(),_(l.trackBar))})})})();