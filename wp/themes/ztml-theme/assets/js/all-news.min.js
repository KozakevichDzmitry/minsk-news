(()=>{"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function e(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function l(o){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e(Object(r),!0).forEach(function(t){var e,n;e=o,n=r[t=t],(t=function(t){t=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})}return o}window.onload=function(){new Swiper(".category-select-slider",{speed:400,loop:!0,slidesPerView:5,spaceBetween:15,wrapperClass:"slider-container",slideClass:"category-select-btn"})},jQuery(document).ready(function(n){function e(t,e){n.ajax({url:"/wp-admin/admin-ajax.php",data:l(l({},i),t),type:"POST",success:function(t){return e(t)}})}var o=n(".load-moree-btn"),r=(n.datepicker.setDefaults(n.datepicker.regional.ru),n(".datepicker-toggle .datepicker-reset-button")),a=null,i={action:"news_posts_load",load:27,offset:27};r.on("click",function(){a=null,i.offset=0,e({date:null},function(t){var e;r.hide(),t&&(e=(t=JSON.parse(t)).posts,(t=t.count)<=i.offset+i.load?o.hide():o.show(),n(".main-content .ta-list").empty(),n(".main-content .ta-list").append(e),i.offset+=i.load,n(".load-moree-btn button").attr("data-all-posts",t))})}),o.on("click",function(){o.find("button").text("Загрузка..."),e(a?{date:a}:{},function(t){var e;t&&(e=(t=JSON.parse(t)).posts,(t=t.count)<=i.offset+i.load?o.hide():o.show(),n(".main-content .ta-list").append(e),i.offset+=i.load,n(".load-moree-btn button").attr("data-all-posts",t),o.find("button").text("Показать еще"))})}),n("#datepicker-all-news-template").datepicker({showOn:"both",changeYear:!0,changeMonth:!0,dateFormat:"yy-mm-dd",minDate:n("#datepicker-all-news-template").data("min-date"),maxDate:n("#datepicker-all-news-template").data("max-date"),onSelect:function(t){a=t,i.offset=0,e({date:t},function(t){var t=JSON.parse(t),e=t.posts,t=t.count;r.show(),t<=i.offset+i.load?n(".load-moree-btn").hide():n(".load-moree-btn").show(),n(".main-content .ta-list").empty(),n(".main-content .ta-list").append(e),i.offset+=i.load,n(".load-moree-btn button").attr("data-all-posts",t)})}})})})();